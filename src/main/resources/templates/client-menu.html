<!DOCTYPE html>
<html lang="uk" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PizzaGo - –ù–∞–π—Å–º–∞—á–Ω—ñ—à–∞ –ø—ñ—Ü–∞</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
            href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;900&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap"
            rel="stylesheet"
    />
    <link rel="stylesheet" th:href="@{/styles/client-styles.css}" />
</head>
<body>
<header class="header">
    <div class="logo">
        <a  th:href="@{/}"><img th:src="@{/images/Logo.svg}" alt="" /></a>
    </div>
    <nav class="header-navigation">
        <a th:href="@{/}">–ú–µ–Ω—é</a>
        <a href="#">–ê–∫—Ü—ñ—ó</a>
        <a href="#">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
    </nav>
    <div class="header-user-actions">
        <a href="/cart" id="cart-wrapper" style="position: relative; cursor: pointer; margin-right: 15px; text-decoration: none; color: inherit; display: flex; align-items: center;">
            <svg class="header-cart" width="36" height="36">
                <use th:href="@{/images/icons.svg#cart}"></use>
            </svg>
        </a>

        <a href="#" onclick="handleUserClick(event)" class="header-icon-link">
            <svg class="header-user" width="36" height="36">
                <use th:href="@{/images/icons.svg#user}"></use>
            </svg>
        </a>

        <script>
            function handleUserClick(e) {
                e.preventDefault();
                const user = JSON.parse(localStorage.getItem('currentUser'));
                if (user) {
                    window.location.href = "/profile"; // –Ø–∫—â–æ —É–≤—ñ–π—à–æ–≤ - –≤ –∫–∞–±—ñ–Ω–µ—Ç
                } else {
                    window.location.href = "/login"; // –Ø–∫—â–æ –Ω—ñ - –Ω–∞ –≤—Ö—ñ–¥
                }
            }
        </script>
    </div>
</header>

<!--<div class="filters conteiner">-->
<!--    <label class="filter-item"><input type="checkbox" checked /> –ü—ñ—Ü–∞</label>-->
<!--    <label class="filter-item"><input type="checkbox" /> –°–∞–ª–∞—Ç–∏</label>-->
<!--    <label class="filter-item"><input type="checkbox" /> –ù–∞–ø–æ—ó</label>-->
<!--    <label class="filter-item"><input type="checkbox" /> –î–µ—Å–µ—Ä—Ç–∏</label>-->
<!--</div>-->

<main class="products-grid conteiner">

    <article class="card" th:each="pizza : ${pizzaList}">
        <div class="image-container">
            <img
                    th:src="${pizza.imageUrl}"
                    alt="–ü—ñ—Ü–∞"
                    class="card-img"
            />
            <button class="btn-add-overlay"
                    onclick="addToCart(this)"
                    th:data-id="${pizza.id}"
                    th:data-name="${pizza.name}"
                    th:data-price="${pizza.price}"
                    th:data-img="${pizza.imageUrl}">
                +
            </button>
        </div>
        <div class="card-body">
            <h3 class="card-title" th:text="${pizza.name}">–ù–∞–∑–≤–∞ –ø—ñ—Ü–∏</h3>

            <div class="tags">
            <span class="tag"
                  th:each="ing : ${#strings.arraySplit(pizza.description, ',')}"
                  th:text="${ing.trim()}">
               –Ü–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç
            </span>
            </div>

            <div class="card-footer">
                <span class="weight">30—Å–º / 400 –≥</span>
                <span class="price" th:text="${pizza.price} + ' ‚Ç¥'">0 ‚Ç¥</span>
            </div>
        </div>
    </article>

    <div th:if="${#lists.isEmpty(pizzaList)}" style="text-align: center; width: 100%;">
        <h2>–ú–µ–Ω—é –ø–æ–∫–∏ –ø–æ—Ä–æ–∂–Ω—î üòî</h2>
    </div>

</main>

<footer class="site-footer">
    <div class="footer-content">
        <div class="footer-col">
            <div class="logo">
                <a  th:href="@{/}"><img th:src="@{/images/logo-footer.svg}" alt="" /></a>
            </div>
            <p class="footer-text">
                –ì–æ—Ç—É—î–º–æ –∑ –ª—é–±–æ–≤'—é, –¥–æ—Å—Ç–∞–≤–ª—è—î–º–æ –∑—ñ —à–≤–∏–¥–∫—ñ—Å—Ç—é —Å–≤—ñ—Ç–ª–∞!
            </p>
        </div>
        <div class="footer-col">
            <ul class="footer-lists">
                <li class="footer-menu"><a th:href="@{/}">–ú–µ–Ω—é</a></li>
                <li class="footer-menu"><a href="#">–ê–∫—Ü—ñ—ó</a></li>
                <li class="footer-menu"><a href="#">–î–æ—Å—Ç–∞–≤–∫–∞ —Ç–∞ –æ–ø–ª–∞—Ç–∞</a></li>
                <li class="footer-menu"><a href="#">–ü—Ä–æ –Ω–∞—Å</a></li>
            </ul>
        </div>
        <div class="footer-col">
            <ul class="footer-lists">
                <li>
                    <a href="tel:+380960000007" class="contact-phone"
                    >+ 38 (096) 000 00 07</a
                    >
                </li>
                <li><p>–©–æ–¥–Ω—è –∑ 10:00 –¥–æ 22:00</p></li>
                <li><p>–º. –ö–∏—ó–≤, –≤—É–ª. –¢–∞—Ä–∞—Å–∞ –®–µ–≤—á–µ–Ω–∫–∞ 5</p></li>
                <li>
                    <div class="footer-social-icons">
                        <a href="#"
                        ><svg width="22" height="37">
                            <use th:href="@{/images/icons.svg#facebook}"></use>
                        </svg>
                        </a>
                        <a href="#"
                        ><svg width="33" height="33">
                            <use th:href="@{/images/icons.svg#instagram}"></use>
                        </svg>
                        </a>
                        <a href="#"
                        ><svg width="36" height="27">
                            <use th:href="@{/images/icons.svg#twitter}"></use>
                        </svg>
                        </a>
                        <a href="#"
                        ><svg width="30" height="35">
                            <use th:href="@{/images/icons.svg#phone}"></use>
                        </svg>
                        </a>
                    </div>
                </li>
            </ul>
        </div>
        <div class="footer-col">
            <ul class="footer-lists">
                <li>
                    <a class="footer-text-politic" href="#"
                    >–ü–æ–ª—ñ—Ç–∏–∫–∞ –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ</a
                    >
                </li>
                <li>
                    <p class="footer-text-rights">
                        ¬© 2025 PizzaGo. –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.
                    </p>
                </li>
            </ul>
        </div>
    </div>
</footer>
<script src="/js/client.js"></script>
</body>
</html>