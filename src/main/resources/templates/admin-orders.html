<!DOCTYPE html>
<html lang="uk" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è - –ê–¥–º—ñ–Ω –ü–∞–Ω–µ–ª—å</title>
    <link rel="stylesheet" th:href="@{/styles/client-styles.css}" />
    <link rel="stylesheet" th:href="@{/styles/admin.css}" />

</head>
<body>

<header class="header">
    <div class="logo"><a th:href="@{/}"><img th:src="@{/images/Logo.svg}" alt="" /></a></div>
    <nav class="header-navigation">
        <a th:href="@{/admin-crud}" style="color: #193948;">–¢–æ–≤–∞—Ä–∏</a>
        <a th:href="@{/admin/orders}" style="font-weight: bold; color: #6a4821;">–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è</a>
    </nav>
    <div class="header-user-actions">
        <span style="font-weight: bold;">–ê–¥–º—ñ–Ω –ü–∞–Ω–µ–ª—å üõ†</span>
        <a href="#" onclick="logout()" style="color: red; margin-left: 20px;">–í–∏—Ö—ñ–¥</a>
    </div>
</header>

<main class="conteiner">
    <h2 style="margin-top: 30px;">üì¶ –°–ø–∏—Å–æ–∫ –ó–∞–º–æ–≤–ª–µ–Ω—å</h2>

    <table class="orders-table">
        <thead>
        <tr>
            <th>ID</th>
            <th>–ö–ª—ñ—î–Ω—Ç</th>
            <th>–ê–¥—Ä–µ—Å–∞</th>
            <th>–°–∫–ª–∞–¥ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</th>
            <th>–°—É–º–∞</th>
            <th>–°—Ç–∞—Ç—É—Å</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="order : ${orders}">
            <td th:text="'#' + ${order.id}">#1</td>

            <td>
                <div th:if="${order.client != null}">
                    <div th:text="${order.client.name}" style="font-weight: bold;"></div>
                    <div th:text="${order.client.phone}" style="font-size: 12px; color: gray;"></div>
                </div>
            </td>

            <td th:text="${order.deliveryAddress}">–ö–∏—ó–≤</td>

            <td class="order-items" th:text="${order.items}">–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞, –ö–æ–ª–∞</td>

            <td th:text="${order.totalAmount} + ' ‚Ç¥'" style="font-weight: bold;">500 ‚Ç¥</td>

            <td>
                <select th:onchange="'updateOrderStatus(this, ' + ${order.id} + ')'"
                        class="status-select"
                        th:data-current="${order.status}">

                    <option value="new_order"
                            th:selected="${order.status.name() == 'new_order'}">
                        üÜï –ù–æ–≤–µ
                    </option>
                    <option value="being_cooked"
                            th:selected="${order.status.name() == 'being_cooked'}">
                        üë®‚Äçüç≥ –ì–æ—Ç—É—î—Ç—å—Å—è
                    </option>
                    <option value="being_delivered"
                            th:selected="${order.status.name() == 'being_delivered'}">
                        üõµ –í –¥–æ—Ä–æ–∑—ñ
                    </option>
                    <option value="delivered"
                            th:selected="${order.status.name() == 'delivered'}">
                        ‚úÖ –î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ
                    </option>
                </select>
            </td>
        </tr>
        </tbody>
    </table>

    <div th:if="${#lists.isEmpty(orders)}" style="text-align: center; margin-top: 50px;">
        <h3>–ó–∞–º–æ–≤–ª–µ–Ω—å –ø–æ–∫–∏ –Ω–µ–º–∞—î üò¥</h3>
    </div>

</main>

<script src="/js/admin.js"></script>
</body>
</html>